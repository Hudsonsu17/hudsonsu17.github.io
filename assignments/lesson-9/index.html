<!doctype html>
<html lang="en-us">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>The Wonders of Southern Idaho | The source for fun and adventure in Southern Idaho</title>
    <meta name="description" content="local weather, tourist spots, events, and basic information for those who are visiting or living in Southern Idaho, especially for Preston, Fish Haven, and Soda Springs">
    <link href="https://fonts.googleapis.com/css?family=Lobster" rel="stylesheet">
    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/small-9.css">
    <link rel="stylesheet" href="css/medium-9.css">
    <link rel="stylesheet" href="css/large-9.css">
</head>

<body>
    <header>
        <img src="images/newicon.png" class="headerimage" alt="header logo">
        <section class="headings">
            <h1>The Wonders of Southern Idaho</h1>
            <div class="motto">The places to go when you're looking for adventure</div>
        </section>
    </header>

    <nav>
        <ul class="menu" id="navmenu">
            <li class="dropdown">
                <a href="#" class="dropbtn" onclick="toggleMenu()">&#9776; Menu</a>
                <div class="dropdown-content">
                    <a href="index.html" class="active">Home</a>
                    <a href="preston-9.html">Preston</a>
                    <a href="#">Soda Springs</a>
                    <a href="#">Fish Haven</a>
                    <a href="stormcenter.html">Storm Center</a>
                    <a href="gallery-9.html">Gallery</a>
                    <a href="javascript:void(0);" class="icon" onclick="myFunction()">
                        <i class="fa fa-bars"></i>
                    </a>
                </div>
            </li>
        </ul>
    </nav>

    <section class="hero">
        <img src="images/homepage.jpg" alt="home page photo">
    </section>

    <article class='homepage'>

    </article>

    <script>
        const requestURL = "https://byui-cit230.github.io/weather/data/towndata.json";
        let request = new XMLHttpRequest();
        request.open('GET', requestURL);
        request.responseType = 'json';
        request.send();

        request.onload = function () {
            let towndata = request.response;
            let towns = towndata['towns'];

            let output = document.querySelector('article');

            //this is for the Prestion section
            towns.forEach(town => {
                if (town.name == 'Preston') {
                    let para = document.createElement('p');
                    let homeH3 = document.createElement('h3');
                    let motto = document.createElement('div');
                    motto.setAttribute("class", "jsonmotto");
                    let year = document.createElement('div');
                    let population = document.createElement('div');
                    let rainfall = document.createElement('div');
                    let x = document.createElement("img");
                    x.setAttribute("src", "images/preston.jpg");
                    x.setAttribute("alt", "Preston Town");
                    homeH3.textContent = town.name;
                    motto.textContent = town.motto;
                    year.textContent = 'Year Founded: ' + town.yearFounded;
                    population.textContent = 'Population: ' + town.currentPopulation;
                    rainfall.textContent = 'Annual Rain Fall: ' + town.averageRainfall;
                    para.appendChild(homeH3);
                    para.appendChild(motto);
                    para.appendChild(year);
                    para.appendChild(population);
                    para.appendChild(rainfall);
                    para.appendChild(x);
                    output.appendChild(para);
                }
            });
            // This is for the Fish Haven section
            towns.forEach(town => {
                if (town.name == 'Fish Haven') {
                    let para = document.createElement('p');
                    let homeH3 = document.createElement('h3');
                    let motto = document.createElement('div');
                    motto.setAttribute("class", "jsonmotto");
                    let year = document.createElement('div');
                    let population = document.createElement('div');
                    let rainfall = document.createElement('div');
                    let x = document.createElement("img");
                    x.setAttribute("src", "images/fishhaven.jpg");
                    x.setAttribute("alt", "Fish Haven Town");
                    homeH3.textContent = town.name;
                    motto.textContent = town.motto;
                    year.textContent = 'Year Founded: ' + town.yearFounded;
                    population.textContent = 'Population: ' + town.currentPopulation;
                    rainfall.textContent = 'Annual Rain Fall: ' + town.averageRainfall;
                    para.appendChild(homeH3);
                    para.appendChild(motto);
                    para.appendChild(year);
                    para.appendChild(population);
                    para.appendChild(rainfall);
                    para.appendChild(x);
                    output.appendChild(para);
                }
            });
            // This is for the Soda Springs section
            towns.forEach(town => {
                if (town.name == 'Soda Springs') {
                    let para = document.createElement('p');
                    let homeH3 = document.createElement('h3');
                    let motto = document.createElement('div');
                    motto.setAttribute("class", "jsonmotto");
                    let year = document.createElement('div');
                    let population = document.createElement('div');
                    let rainfall = document.createElement('div');
                    let x = document.createElement("img");
                    x.setAttribute("src", "images/sodasprings.jpg");
                    x.setAttribute("alt", "Soda Springs Town");
                    homeH3.textContent = town.name;
                    motto.textContent = town.motto;
                    year.textContent = 'Year Founded: ' + town.yearFounded;
                    population.textContent = 'Population: ' + town.currentPopulation;
                    rainfall.textContent = 'Annual Rain Fall: ' + town.averageRainfall;
                    para.appendChild(homeH3);
                    para.appendChild(motto);
                    para.appendChild(year);
                    para.appendChild(population);
                    para.appendChild(rainfall);
                    para.appendChild(x);
                    output.appendChild(para);
                }
            });
        };
    </script>

    <main>
        <article class="contactinfo">
            <h4>The Wonders of Southern Idaho Website</h4>
            <p>30 N 1st E
                <br> Preston, ID 83263</p>
            <p>Phone: 208-555-5555
                <br> Email: wondersofsi@gmail.com</p>
            <div class="map">
                <iframe src="https://www.google.com/maps/embed/v1/view?zoom=12&center=42.0963%2C-111.8766&key=AIzaSyBraCrN9eDxKmBetKaWsMejLTV6sKG3WDs"
                    style="border:0" allowfullscreen></iframe>
            </div>
        </article>
    </main>

    <footer>
        <p class="footerbar">&copy;2019 The Wonders of Southern Idaho | Attributions | Suzannah Hudson</p>
        <div id="currentdate" class="date"></div>
    </footer>

    <script src="scripts/currentdate.js"></script>
    <script src="scripts/hamburger.js"></script>
</body>

</html>